function testWebP(t){var e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(t){!0===t?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")}));const burger=document.querySelector(".burger"),nav=document.querySelector(".header__list"),burgerContainer=document.querySelector(".burgerContainer");async function getProducts(){let t=await fetch("json/products.json",{method:"GET"});if(t.ok){let e=await t.json();filterProducts(e),console.log(e)}}async function getProducts(){let t=await fetch("json/products.json",{method:"GET"});if(t.ok){loadProducts(await t.json())}}function loadProducts(t){const e=document.querySelector(".swiper-wrapper"),o=document.querySelector(".products-catalog");let r,i=window.location.href.replace(/(\\|\/)/g,"");t.products.forEach((t=>{const l=t.id,n=t.url,c=t.image,s=t.title,a=t.price,d=t.priceOld,p=t.labels;t.popular;"http:localhost:3000index.html"==i||"http:localhost:3000"==i?r=`<div data-pid="${l}" class="swiper-slide">`:"http:localhost:3000catalog.html"==i&&(r=`<div data-pid="${l}" class="item-product">`);let u="";if(p){let t='<div class="item-product__labels">',e="</div>",o="";p.forEach((t=>{o+=`<div class="item-product__label item-product__label_${t.type}">${t.value}</div>`})),u+=t,u+=o,u+=e}let w="";w='<div class="item-product__prices">',w+=`<div class="item-product__price">Rp ${a}</div>`,d&&(w+=`<del class="item-product__price item-product__oldPrice">Rp ${d}</del>`),w+="</div>";let h="";h+=r,h+=` <a href="${n}" class="item-product__image">\n\t\t<img src="${c}" alt="${s}"></a>\n\t\t`,h+=`\n\t\t<p class="item-product__title">${s}</p>\n\t\t<p class="item-product__price">${a}</p>\n\t\t`,h+=w,h+='\n\t\t<div class="item-product__button">\n\t\t\t<button class="button-cart">В корзину</button>\n\t\t</div>\n\t\t',h+="</div>","http:localhost:3000index.html"==i||"http:localhost:3000"==i||"https:hamedor.github.ioLoverFlowerindex.html"==i||"https:hamedor.github.ioLoverFlower"==i?e.insertAdjacentHTML("beforeend",h):o.insertAdjacentHTML("beforeend",h)}))}burger.onclick=function(){burger.classList.toggle("_active"),nav.classList.toggle("_active"),document.body.classList.toggle("_lock"),burgerContainer.classList.toggle("burgerContainer--right")},window.onload=function(){getProducts();let t=window.location.href.replace(/(\\|\/)/g,"");(window.outerWidth>=windowTrigger&&"http:localhost:3000index.html"==t||"http:localhost:3000"==t||"https:hamedor.github.ioLoverFlowerindex.html"==t||"https:hamedor.github.ioLoverFlower"==t)&&(swiperInit(),setTimeout((function(){swiper.update(swiper)}),500))};let swiper=null,windowTrigger=768,swiperContainer=document.querySelector(".swiper-container"),url=window.location.href,clean_url=url.replace(/(\\|\/)/g,"");function swiperInit(){swiper||(swiper=new Swiper(".swiper-container",{slidesPerView:3,loop:!0,direction:"horizontal",spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}}))}function swiperDestroy(){swiper&&(swiper.destroy(),swiper=null)}console.log(swiper),"http:localhost:3000index.html"==clean_url&&(onresize=function(){window.innerWidth>=windowTrigger?swiperInit():swiperDestroy()});